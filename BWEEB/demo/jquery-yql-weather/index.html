<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Weather Widget</title>
<style type="text/css">
/* CSS goes here */

</style>

</head>

<body>

<div id="wxWrap">
    <span id="wxIcon2"></span>
    <span id="wxTemp"></span>
</div>
<button>adsadasds</button>



<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript">

function weather(mode){

    // Specify the ZIP/location code and units (f or c)
    var loc = 'SNXX0006'; // or e.g. SPXX0050
    var u = mode;

    var query = "SELECT item.condition FROM weather.forecast WHERE location='" + loc + "' AND u='" + u + "'";
    var cacheBuster = Math.floor((new Date().getTime()) / 1200 / 1000);
    var url = 'http://query.yahooapis.com/v1/public/yql?q=' + encodeURIComponent(query) + '&format=json&_nocache=' + cacheBuster;

    window['wxCallback'] = function(data) {
        var info = data.query.results.channel.item.condition;
        $('#wxTemp').html(info.temp + '&deg;' + (u.toUpperCase()));
        var tem = info.temp
        
        if (tem < 40 ) {
            console.log('cold');
        }
        else if ( tem > 80 ) {
            console.log('hooottttt');
        }
    };
    
    

    $.ajax({
        url: url,
        dataType: 'jsonp',
        cache: true,
        jsonpCallback: 'wxCallback'
    });
    
}

$(document).ready(function(){
// --------------------------------------------------------
// toggle function 0F 0C
// --------------------------------------------------------
    weather('c');
    $('button').toggle(
      function(){
        weather('f');
      },
      function(){
        weather('c');
      }
    );

});

</script>
</body>
</html>
